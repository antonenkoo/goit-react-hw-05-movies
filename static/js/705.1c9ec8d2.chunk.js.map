{"version":3,"file":"static/js/705.1c9ec8d2.chunk.js","mappings":"yNA4EA,UAxEe,WACb,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAAoCF,EAAAA,EAAAA,UAAS,IAA7C,eAAOG,EAAP,KAAmBC,EAAnB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,GAAWC,EAAAA,EAAAA,MACXC,EAAQJ,EAAaK,IAAI,UAQ/BC,EAAAA,EAAAA,YAAU,WAEsB,OAA9BN,EAAaK,IAAI,SACbT,EAASI,EAAaK,IAAI,UAC1BT,EAAS,IACb,IAAMW,EAAkBC,KAAKC,MAC3BC,OAAOC,aAAaC,QAAQ,OAAQJ,KAAKK,UAAUhB,KAEhDU,GAAoBH,GAIzBN,EAAcS,EAEf,GAAE,IAEH,IAAMO,EAAW,mCAAG,6FAClBJ,OAAOC,aAAaI,WAAW,QAC/Bd,EAA0B,KAAVN,EAAe,CAAES,MAAOT,GAAU,CAAC,GAFjC,SAGKqB,MAAM,qDAAD,OAzBd,mCAyBc,kBAC4CrB,GACtE,CAEEsB,OAAQ,QAPM,cAGZC,EAHY,gBAUCA,EAASC,OAVV,OAUZC,EAVY,OAWlBV,OAAOC,aAAaU,QAAQ,OAAQb,KAAKK,UAAUO,EAAKE,UACxDxB,EAAcsB,EAAKE,SAZD,4CAAH,qDAejB,OACE,6BACE,6BACE,kBAAOC,KAAK,OAAOC,MAAO7B,EAAO8B,SAtClB,SAAAC,GACnB9B,EAAS8B,EAAEC,OAAOH,MACnB,KAqCK,mBAAQD,KAAK,SAASK,QAASd,EAA/B,wBAIF,eAAIe,MAAO,CAAEC,QAAS,OAAQC,SAAU,QAAxC,SACGlC,EAAWmC,KAAI,SAAAC,GAAU,OACxB,eAAwBJ,MAAO,CAAEK,OAAQ,QAAzC,UACE,SAAC,KAAD,CAAMC,GAAE,UAAKF,EAAWG,IAAMC,MAAO,CAAEC,KAAMpC,GAA7C,UACE,iBAAK2B,MAAO,CAAEU,MAAO,SAArB,WACE,gBACEV,MAAO,CAAEU,MAAO,SAChBC,IAAG,0CAAqCP,EAAWQ,aACnDC,IAAI,MAEN,uBAAIT,EAAWU,cARZV,EAAWG,GADI,QAiBjC,C","sources":["pages/MoviesSearch.jsx"],"sourcesContent":["// import styled from 'styled-components';\nimport { useState, useEffect } from 'react';\nimport { Link, useLocation, useSearchParams } from 'react-router-dom';\n\nconst Movies = () => {\n  const [input, setInput] = useState('');\n  const [searchList, setSearchList] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const location = useLocation();\n  const query = searchParams.get('query');\n\n  const API_KEY = 'cc1be8043ea5c323822776e71613d749';\n\n  const handleChange = e => {\n    setInput(e.target.value);\n  };\n\n  useEffect(() => {\n    // console.log(searchParams.get('query'));\n    searchParams.get('query') !== null\n      ? setInput(searchParams.get('query'))\n      : setInput('');\n    const prevQueryResult = JSON.parse(\n      window.localStorage.getItem('list', JSON.stringify(searchList))\n    );\n    if (!prevQueryResult || !query) {\n      return;\n    }\n\n    setSearchList(prevQueryResult);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  const handleClick = async () => {\n    window.localStorage.removeItem('list');\n    setSearchParams(input !== '' ? { query: input } : {});\n    const response = await fetch(\n      `https://api.themoviedb.org/3/search/movie?api_key=${API_KEY}&query=${input}`,\n      {\n        // HTTP Method\n        method: 'GET',\n      }\n    );\n    const data = await response.json();\n    window.localStorage.setItem('list', JSON.stringify(data.results));\n    setSearchList(data.results);\n  };\n\n  return (\n    <main>\n      <form>\n        <input type=\"text\" value={input} onChange={handleChange} />\n        <button type=\"button\" onClick={handleClick}>\n          Search\n        </button>\n      </form>\n      <ul style={{ display: 'flex', flexWrap: 'wrap' }}>\n        {searchList.map(searchItem => (\n          <li key={searchItem.id} style={{ margin: '10px' }}>\n            <Link to={`${searchItem.id}`} state={{ from: location }}>\n              <div style={{ width: '100px' }}>\n                <img\n                  style={{ width: '100px' }}\n                  src={`https://image.tmdb.org/t/p/w342/${searchItem.poster_path}`}\n                  alt=\"\"\n                />\n                <p>{searchItem.title}</p>\n              </div>\n            </Link>\n          </li>\n        ))}\n      </ul>\n    </main>\n  );\n};\n\nexport default Movies;\n"],"names":["useState","input","setInput","searchList","setSearchList","useSearchParams","searchParams","setSearchParams","location","useLocation","query","get","useEffect","prevQueryResult","JSON","parse","window","localStorage","getItem","stringify","handleClick","removeItem","fetch","method","response","json","data","setItem","results","type","value","onChange","e","target","onClick","style","display","flexWrap","map","searchItem","margin","to","id","state","from","width","src","poster_path","alt","title"],"sourceRoot":""}