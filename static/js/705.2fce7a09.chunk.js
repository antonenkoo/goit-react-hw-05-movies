"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[705],{705:function(e,t,r){r.r(t);var n=r(861),s=r(885),a=r(757),o=r.n(a),i=r(791),c=r(731),l=r(739),u=r(223),p=r(184);t.default=function(){var e=(0,i.useState)(""),t=(0,s.Z)(e,2),r=t[0],a=t[1],h=(0,i.useState)([]),d=(0,s.Z)(h,2),f=d[0],g=d[1],m=(0,c.lr)(),x=(0,s.Z)(m,2),w=x[0],y=x[1],v=(0,l.TH)(),_=w.get("query");(0,i.useEffect)((function(){null!==w.get("query")?a(w.get("query")):a(""),console.log(JSON.parse(window.localStorage.getItem("list"))||"lol");var e=JSON.parse(window.localStorage.getItem("list",JSON.stringify(f)));e&&_&&g(e)}),[]);var j=function(){var e=(0,n.Z)(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return window.localStorage.removeItem("list"),y(""!==r?{query:r}:{}),e.next=4,fetch("https://api.themoviedb.org/3/search/movie?api_key=".concat("cc1be8043ea5c323822776e71613d749","&query=").concat(r),{method:"GET"});case 4:return t=e.sent,e.next=7,t.json();case 7:n=e.sent,window.localStorage.setItem("list",JSON.stringify(n.results)),g(n.results);case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,p.jsxs)("main",{children:[(0,p.jsxs)("form",{children:[(0,p.jsx)("input",{type:"text",value:r,onChange:function(e){a(e.target.value)}}),(0,p.jsx)("button",{type:"button",onClick:j,children:"Search"})]}),(0,p.jsx)("ul",{style:{display:"flex",flexWrap:"wrap"},children:f.map((function(e){return console.log(!e.poster_path),(0,p.jsx)("li",{style:{margin:"10px"},children:(0,p.jsx)(c.rU,{to:"".concat(e.id),state:{from:v},children:(0,p.jsxs)("div",{style:{width:"100px"},children:[(0,p.jsx)("img",{style:{width:"100px"},src:e.poster_path?"https://image.tmdb.org/t/p/w342/".concat(e.poster_path):u,alt:""}),(0,p.jsx)("p",{children:e.title})]})})},e.id)}))})]})}}}]);
//# sourceMappingURL=705.2fce7a09.chunk.js.map